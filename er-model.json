{
  "entities": [
    {
      "name": "Usuario",
      "tableName": "usuario",
      "description": "Usuarios del sistema de gestión",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "nombreCompleto",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 150,
          "isNullable": false
        },
        {
          "name": "email",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 100,
          "isNullable": false,
          "isUnique": true
        },
        {
          "name": "passwordHash",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 255,
          "isNullable": false
        },
        {
          "name": "rol",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        },
        {
          "name": "fechaRegistro",
          "javaType": "LocalDateTime",
          "columnType": "TIMESTAMP",
          "isNullable": false
        },
        {
          "name": "activo",
          "javaType": "Boolean",
          "columnType": "BOOLEAN",
          "isNullable": false
        }
      ]
    },
    {
      "name": "Invernadero",
      "tableName": "invernadero",
      "description": "Tabla principal de invernaderos registrados en el sistema",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "nombre",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 100,
          "isNullable": false
        },
        {
          "name": "ubicacion",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 200,
          "isNullable": false
        },
        {
          "name": "latitud",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 10,
          "scale": 8,
          "isNullable": true
        },
        {
          "name": "longitud",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 11,
          "scale": 8,
          "isNullable": true
        },
        {
          "name": "areaM2",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 10,
          "scale": 2,
          "isNullable": false
        },
        {
          "name": "fechaInstalacion",
          "javaType": "LocalDate",
          "columnType": "DATE",
          "isNullable": false
        },
        {
          "name": "estado",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "OneToMany",
          "targetEntity": "CicloCultivo",
          "mappedBy": "invernadero"
        },
        {
          "type": "OneToMany",
          "targetEntity": "Sensor",
          "mappedBy": "invernadero"
        },
        {
          "type": "OneToMany",
          "targetEntity": "Alerta",
          "mappedBy": "invernadero"
        }
      ]
    },
    {
      "name": "Cultivo",
      "tableName": "cultivo",
      "description": "Tipos de cultivos que se pueden sembrar",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "nombreComun",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 100,
          "isNullable": false
        },
        {
          "name": "nombreCientifico",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 150,
          "isNullable": true
        },
        {
          "name": "phOptimoMin",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 3,
          "scale": 1,
          "isNullable": false
        },
        {
          "name": "phOptimoMax",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 3,
          "scale": 1,
          "isNullable": false
        },
        {
          "name": "tempOptimaMin",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 4,
          "scale": 1,
          "isNullable": false
        },
        {
          "name": "tempOptimaMax",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 4,
          "scale": 1,
          "isNullable": false
        },
        {
          "name": "diasCosecha",
          "javaType": "Integer",
          "columnType": "INTEGER",
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "OneToMany",
          "targetEntity": "CicloCultivo",
          "mappedBy": "cultivo"
        }
      ]
    },
    {
      "name": "CicloCultivo",
      "tableName": "ciclo_cultivo",
      "description": "Registro de ciclos de cultivo en cada invernadero",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "fechaSiembra",
          "javaType": "LocalDate",
          "columnType": "DATE",
          "isNullable": false
        },
        {
          "name": "fechaCosechaEstimada",
          "javaType": "LocalDate",
          "columnType": "DATE",
          "isNullable": false
        },
        {
          "name": "fechaCosechaReal",
          "javaType": "LocalDate",
          "columnType": "DATE",
          "isNullable": true
        },
        {
          "name": "cantidadPlantas",
          "javaType": "Integer",
          "columnType": "INTEGER",
          "isNullable": false
        },
        {
          "name": "estado",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "ManyToOne",
          "targetEntity": "Invernadero",
          "joinColumn": "invernadero_id"
        },
        {
          "type": "ManyToOne",
          "targetEntity": "Cultivo",
          "joinColumn": "cultivo_id"
        }
      ]
    },
    {
      "name": "Sensor",
      "tableName": "sensor",
      "description": "Sensores IoT instalados en los invernaderos",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "tipoSensor",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 50,
          "isNullable": false
        },
        {
          "name": "marca",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 50,
          "isNullable": true
        },
        {
          "name": "modelo",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 50,
          "isNullable": true
        },
        {
          "name": "ubicacionSensor",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 100,
          "isNullable": true
        },
        {
          "name": "fechaInstalacion",
          "javaType": "LocalDate",
          "columnType": "DATE",
          "isNullable": false
        },
        {
          "name": "estado",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "ManyToOne",
          "targetEntity": "Invernadero",
          "joinColumn": "invernadero_id"
        },
        {
          "type": "OneToMany",
          "targetEntity": "LecturaSensor",
          "mappedBy": "sensor"
        }
      ]
    },
    {
      "name": "LecturaSensor",
      "tableName": "lectura_sensor",
      "description": "Lecturas históricas de los sensores IoT",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "timestamp",
          "javaType": "LocalDateTime",
          "columnType": "TIMESTAMP",
          "isNullable": false
        },
        {
          "name": "valor",
          "javaType": "BigDecimal",
          "columnType": "DECIMAL",
          "precision": 10,
          "scale": 4,
          "isNullable": false
        },
        {
          "name": "unidad",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "ManyToOne",
          "targetEntity": "Sensor",
          "joinColumn": "sensor_id"
        }
      ]
    },
    {
      "name": "Alerta",
      "tableName": "alerta",
      "description": "Alertas generadas por condiciones anormales",
      "attributes": [
        {
          "name": "id",
          "javaType": "Long",
          "columnType": "BIGINT",
          "isPrimaryKey": true,
          "isAutoIncrement": true,
          "isNullable": false
        },
        {
          "name": "tipoAlerta",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 50,
          "isNullable": false
        },
        {
          "name": "nivelSeveridad",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        },
        {
          "name": "descripcion",
          "javaType": "String",
          "columnType": "TEXT",
          "isNullable": false
        },
        {
          "name": "timestampInicio",
          "javaType": "LocalDateTime",
          "columnType": "TIMESTAMP",
          "isNullable": false
        },
        {
          "name": "timestampFin",
          "javaType": "LocalDateTime",
          "columnType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "name": "estado",
          "javaType": "String",
          "columnType": "VARCHAR",
          "length": 20,
          "isNullable": false
        }
      ],
      "relationships": [
        {
          "type": "ManyToOne",
          "targetEntity": "Invernadero",
          "joinColumn": "invernadero_id"
        },
        {
          "type": "ManyToOne",
          "targetEntity": "Sensor",
          "joinColumn": "sensor_id",
          "optional": true
        }
      ]
    }
  ]
}